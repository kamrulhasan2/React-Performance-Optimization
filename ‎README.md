# Resources:
https://react.dev/reference/dev-tools/react-performance-tracks

# React Performance Optimization: ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЖрж▓рзЛржЪржирж╛

React ржжрж┐рзЯрзЗ ржмрж╛ржирж╛ржирзЛ ржУрзЯрзЗржм ржЕрзНржпрж╛ржк ржпржжрж┐ ржзрзАрж░ржЧрждрж┐ рж╣рзЯ, рждржмрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржмрж┐рж░ржХрзНржд рж╣рзЯрзЗ ржпрж╛рзЯ ржПржмржВ ржЕрзНржпрж╛ржк ржерзЗржХрзЗ ржмрзЗрж░рж┐рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред рждрж╛ржЗ **React Performance Optimization** ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рж╕ржмржХрж┐ржЫрзБ ржЖрж▓рзЛржЪржирж╛ ржХрж░ржмрзЛ, рж╕рж╛ржерзЗ **ржХрзЛржб ржЙржжрж╛рж╣рж░ржг** ржжрж┐ржмред

---

## 1. ржХрзЗржи ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи ржжрж░ржХрж╛рж░?

- **ржзрзАрж░ рж▓рзЛржб ржЯрж╛ржЗржо (Slow Loading):** ржпрзЗржоржи ржПржХржЯрж┐ ржЗ-ржХржорж╛рж░рзНрж╕ рж╕рж╛ржЗржЯрзЗ ржЫржмрж┐, ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗрж░ ржжрж╛ржо ржмрж╛ рж╢рж┐рж░рзЛржирж╛ржо ржЖрж╕рждрзЗ ржжрзЗрж░рж┐ рж╣рж▓рзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЪрж▓рзЗ ржпрж╛рзЯред
- **ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ Re-render:** props ржмрж╛ state ржЕрж▓рзНржк ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗржУ ржкрзБрж░рзЛ component tree рж░рзЗржирзНржбрж╛рж░ рж╣рзЯред
- **ржнрж╛рж░рзА ржЧржгржирж╛ (Expensive Computation):** ржмрзЬ рж▓рж┐рж╕рзНржЯ, ржЬржЯрж┐рж▓ рж▓рзБржк, ржмрж╛ ржмрзЬ ржбрзЗржЯрж╛ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж▓рзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░ рж╕рзНрж▓рзЛ рж╣рзЯрзЗ ржпрж╛рзЯред

ЁЯСЙ ржЙржжрж╛рж╣рж░ржг:

```jsx
function ProductList({ products }) {
  return (
    <ul>
      {products.map(p => (
        <li key={p.id}>{p.name}</li>
      ))}
    </ul>
  );
}

```

ржпржжрж┐ `products` рж▓рж┐рж╕рзНржЯрзЗ рж╣рж╛ржЬрж╛рж░ рж╣рж╛ржЬрж╛рж░ ржЖржЗржЯрзЗржо ржерж╛ржХрзЗ, ржкрзБрж░рзЛ DOM ржПржХрж╕рж╛ржерзЗ рж░рзЗржирзНржбрж╛рж░ рж╣ржмрзЗ, ржлрж▓рзЗ ржЕрзНржпрж╛ржк ржЦрзБржм ржзрзАрж░ рж╣рзЯрзЗ ржпрж╛ржмрзЗред

---

## 2. Rendering ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи

### (ржХ) `React.memo()` ржмрзНржпржмрж╣рж╛рж░

ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯ ржПржХржЗ props ржкрзЗрж▓рзЗ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯржнрж╛ржмрзЗ ржЖржмрж╛рж░ рж░рзЗржирзНржбрж╛рж░ рж╣ржУрзЯрж╛ ржПрзЬрж╛рждрзЗ `React.memo()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

```jsx
const UserProfile = React.memo(function UserProfile({ name }) {
  console.log("Rendered:", name);
  return <h2>{name}</h2>;
});

```

тЮбя╕П ржПржЦржи parent re-render рж╣рж▓рзЗржУ `name` ржирж╛ ржмржжрж▓рж╛рж▓рзЗ `UserProfile` ржЖржмрж╛рж░ render рж╣ржмрзЗ ржирж╛ред

---

### (ржЦ) `useMemo()` ржмрзНржпржмрж╣рж╛рж░

ржмрзНржпрзЯржмрж╣рзБрж▓ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗрж╢ржи ржкрзНрж░рждрж┐ржмрж╛рж░ ржирж╛ ржХрж░рзЗ ржорзЗржорзЛрж░рж╛ржЗржЬ ржХрж░рзЗ рж░рж╛ржЦрж╛ рж╣рзЯред

```jsx
function ExpensiveList({ items }) {
  const sortedItems = useMemo(() => {
    console.log("Sorting...");
    return items.sort((a, b) => a - b);
  }, [items]);

  return <ul>{sortedItems.map(i => <li key={i}>{i}</li>)}</ul>;
}

```

тЮбя╕П ржПржЦрж╛ржирзЗ `items` ржирж╛ ржмржжрж▓рж╛рж▓рзЗ sort ржЖржмрж╛рж░ рж╣ржмрзЗ ржирж╛ред

---

### (ржЧ) Virtualization (Infinite Scroll)

ржмрзЬ рж▓рж┐рж╕рзНржЯрзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржирж╛ ржжрзЗржЦрж┐рзЯрзЗ ржЖржВрж╢рж┐ржХ ржжрзЗржЦрж╛ржирзЛред

ЁЯСЙ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐: **react-window**, **react-virtualized**

```jsx
import { FixedSizeList as List } from "react-window";

function BigList({ items }) {
  return (
    <Listheight={300}
      itemCount={items.length}
      itemSize={35}
      width={300}
    >
      {({ index, style }) => <div style={style}>{items[index]}</div>}
    </List>
  );
}

```

тЮбя╕П ржПржЦрж╛ржирзЗ ржПржХрж╕рж╛ржерзЗ рж╢рзБржзрзБ ржжрзГрж╢рзНржпржорж╛ржи ржЖржЗржЯрзЗржоржЧрзБрж▓рзЛ рж░рзЗржирзНржбрж╛рж░ рж╣ржмрзЗ, рж╣рж╛ржЬрж╛рж░ рж╣рж╛ржЬрж╛рж░ рж╣рж▓рзЗржУ ржЕрзНржпрж╛ржк рж╕рзНржорзБрже ржЪрж▓ржмрзЗред

---

## 3. Effect ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи (`useEffect`)

### ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ Effect ржПрзЬрж╛ржирзЛ

ржЕржирзЗржХ рж╕ржорзЯ ржЖржорж░рж╛ state ржПрж░ ржЫрзЛржЯржЦрж╛ржЯрзЛ ржкрж░рж┐ржмрж░рзНрждржирзЗ `useEffect` рж▓рж┐ржЦрзЗ ржлрзЗрж▓рж┐, ржпрж╛ ржжрж░ржХрж╛рж░ рж╣рзЯ ржирж╛ред

тЭМ ржЦрж╛рж░рж╛ржк ржЙржжрж╛рж╣рж░ржг:

```jsx
useEffect(() => {
  setFullName(firstName + " " + lastName);
}, [firstName, lastName]);

```

тЬЕ ржнрж╛рж▓рзЛ ржЙржжрж╛рж╣рж░ржг:

```jsx
const fullName = firstName + " " + lastName;

```

тЮбя╕П ржПржЦрж╛ржирзЗ ржЖрж▓рж╛ржжрж╛ effect ржжрж░ржХрж╛рж░ ржирзЗржЗред

---

### State Reset ржХрж░рж╛рж░ ржЙржжрж╛рж╣рж░ржг

ржзрж░рж╛ ржпрж╛ржХ ржПржХржЯрж┐ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржкрзЗржЬ ржЖржЫрзЗ ржпрзЗржЦрж╛ржирзЗ `userId` ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ ржХржорзЗржирзНржЯ ржлрж┐рж▓рзНржб reset рж╣ржУрзЯрж╛ ржжрж░ржХрж╛рж░ред

```jsx
function Profile({ userId }) {
  const [comment, setComment] = useState("");

  useEffect(() => {
    setComment("");  // user ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ comment reset
  }, [userId]);

  return <input value={comment} onChange={e => setComment(e.target.value)} />;
}

```

---

## 4. рж▓рзЛржбрж┐ржВ ржЯрж╛ржЗржо ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи

### (ржХ) ржЗржорзЗржЬ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи

- ржЫржмрж┐ `lazy loading` ржХрж░рж╛
- JPG тЖТ WebP ржХржиржнрж╛рж░рзНржЯ ржХрж░рж╛
- ржХржоржкрзНрж░рзЗрж╕ржб ржЫржмрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛

```html
<img src="product.webp" loading="lazy" alt="product" />

```

---

### (ржЦ) Code Splitting (Dynamic Import)

ржкрзБрж░рзЛ ржЕрзНржпрж╛ржк ржПржХржмрж╛рж░рзЗ ржирж╛ рж▓рзЛржб ржХрж░рзЗ ржкрзНрж░рзЯрзЗрж╛ржЬржи ржЕржирзБржпрж╛рзЯрзА рж▓рзЛржб ржХрж░рж╛ред

```jsx
const LazyComponent = React.lazy(() => import("./BigComponent"));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}

```

---

### (ржЧ) Production Build

Development build ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ `npm run build` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ bundle ржЫрзЛржЯ рж╣рзЯ, performance ржнрж╛рж▓рзЛ рж╣рзЯред

---

## 5. Performance Measurement Tools

### (ржХ) React Profiler

React DevTools ржжрж┐рзЯрзЗ ржХрзЛржи ржХржорзНржкрзЛржирзЗржирзНржЯ ржХрждржмрж╛рж░ render рж╣ржЪрзНржЫрзЗ рждрж╛ ржжрзЗржЦрж╛ ржпрж╛рзЯред

### (ржЦ) Chrome Lighthouse

- **FCP (First Contentful Paint)** тАУ ржкрзНрж░ржержо ржХржиржЯрзЗржирзНржЯ ржжрзЗржЦрж╛рждрзЗ ржХржд рж╕ржорзЯ рж▓рж╛ржЧржЫрзЗ
- **TTI (Time to Interactive)** тАУ ржЕрзНржпрж╛ржк ржкрзБрж░рзЛржкрзБрж░рж┐ interactive рж╣рждрзЗ ржХржд рж╕ржорзЯ рж▓рж╛ржЧржЫрзЗ

### (ржЧ) Network Throttling

Slow 3G/4G ржП ржЯрзЗрж╕рзНржЯ ржХрж░рзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ ржЕрзНржпрж╛ржк ржЖрж╕рж▓ ржЗржЙржЬрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржХрзЗржоржи ржкрж╛рж░ржлрж░рзНржо ржХрж░ржЫрзЗред

---

## 6. Best Practices

- Unnecessary renders ржПрзЬрж┐рзЯрзЗ ржЪрж▓рж╛
- State ржХрзЗ ржЫрзЛржЯ ржЫрзЛржЯ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржнрж╛ржЧ ржХрж░рж╛
- Keys рж╕ржарж┐ржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ (`key` ржЫрж╛рзЬрж╛ list render ржирж╛ ржХрж░рж╛)
- Production build ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛
- Lazy loading + Code splitting ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛
- Large data ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ Virtualization

---

## 7. ржЙржкрж╕ржВрж╣рж╛рж░

React Performance Optimization ржХрзЛржиржУ **ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржирж┐рзЯржо ржирзЯ**, ржмрж░ржВ ржкрж░рж┐рж╕рзНржерж┐рждрж┐ ржЕржирзБржпрж╛рзЯрзА **ржмрж┐ржнрж┐ржирзНржи ржХрзМрж╢рж▓рзЗрж░ рж╕ржоржирзНржмрзЯ**ред

ЁЯСЙ ржорзВрж▓ рж▓ржХрзНрж╖рзНржп рж╣рж▓рзЛ:

1. **рж▓рзЛржбрж┐ржВ ржжрзНрж░рзБржд ржХрж░рж╛**
2. **ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ рж░рзЗржирзНржбрж╛рж░ ржПрзЬрж╛ржирзЛ**
3. **ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ ржорж╕рзГржг ржХрж░рж╛**

---

тЬи ржПржХ ржХржерж╛рзЯ:

- ржЫрзЛржЯ ржЕрзНржпрж╛ржкрзЗрж░ ржЬржирзНржп рж╕рж╛ржзрж╛рж░ржг optimization (memo, lazy load) ржпржерзЗрж╖рзНржЯред
- ржмрзЬ рж╕рзНржХрзЗрж▓рзЗрж░ ржкрзНрж░рзЛржЬрзЗржХрзНржЯрзЗ **virtualization, code splitting, profiling** ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред


# рж░рж┐ржЕрзНржпрж╛ржХрзНржЯ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЕржкржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи:

ржПржЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЖрж▓рзЛржЪржирж╛ржЯрж┐ **рж░рж┐ржЕрзНржпрж╛ржХрзНржЯ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржХрзЗ ржорж╕рзГржг ржУ ржжрзНрж░рзБржд** ржХрж░рж╛рж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ **ржЙржирзНржиржд рж╣рзБржХрж╕, ржХрзМрж╢рж▓ ржПржмржВ ржмрж╛рж╕рзНрждржм ржХрзЛржб ржкрзНрж░ржпрж╝рзЛржЧрзЗрж░** ржЙржкрж░ ржЬрзЛрж░ ржжрзЗржпрж╝ред ржорзВрж▓ ржлрзЛржХрж╛рж╕ рж╣рж▓рзЛ **ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржПржмржВ UI-ржХрзЗ ржмрзНрж▓ржХ ржХрж░рж╛ ржмрзНржпрзЯржмрж╣рзБрж▓ ржЕржкрж╛рж░рзЗрж╢ржи** ржПржбрж╝рж┐ржпрж╝рзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ (UX) рж╕рж░рзНржмрзЛржЪрзНржЪ рж╕рзНрждрж░рзЗ ржирж┐ржпрж╝рзЗ ржпрж╛ржУржпрж╝рж╛ред

## рзз. ржмрзНржпрзЯржмрж╣рзБрж▓ ржЧржгржирж╛рж░ ржЕржкржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи: `useMemo` ржПрж░ ржХрж╛рж░рзНржпржХрж░рзА ржмрзНржпржмрж╣рж╛рж░

ржЬржЯрж┐рж▓ рж▓ржЬрж┐ржХ ржмрж╛ ржЧржгржирж╛рж░ ржХрж╛рж░ржгрзЗ ржпржЦржи UI ржмрзНрж▓ржХ рж╣рзЯрзЗ ржпрж╛рзЯ, рждржЦржи рж╕рзЗржЗ **ржмрзНржпрзЯржмрж╣рзБрж▓ ржЧржгржирж╛ржЧрзБрж▓рж┐ржХрзЗ ржорзЗржорзЛрж░рж╛ржЗржЬ (Memorize)** ржХрж░рж╛рж░ ржЬржирзНржп `useMemo` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржПржХржЯрж┐ ржЧржгржирж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ рждрж╛рж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рж▓рзЗржЗ ржШржЯржмрзЗ, ржЕржирзНржпржерж╛рзЯ ржХрзНржпрж╛рж╢ржб ржлрж▓рж╛ржлрж▓ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗред

### ржХ. `useMemo` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ UI ржмрзНрж▓ржХ ржХрж░рж╛ ржЧржгржирж╛ ржжрзВрж░рзАржХрж░ржг

ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржгрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрж┐рж▓ ржпрзЗ ржПржХржЯрж┐ ржжрзАрж░рзНржШ рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛рж╕ рж▓рзБржк ржХрзАржнрж╛ржмрзЗ ржорзВрж▓ ржерзНрж░рзЗржбржХрзЗ ржмрзНрж▓ржХ ржХрж░рзЗред `useMemo` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЗ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ ржпрж╛рзЯ:

JavaScript

```jsx
import React, { useState, useMemo } from 'react';

// ржПржХржЯрж┐ рж╕рж┐ржорзБрж▓рзЗржЯрзЗржб, рж╕ржорзЯрж╕рж╛ржкрзЗржХрзНрж╖ ржЧржгржирж╛ ржлрж╛ржВрж╢ржи
const calculateExpensiveValue = (n) => {
    console.time("Expensive Calculation");
    let result = 0;
    for (let i = 0; i < n; i++) {
        result += i;
    }
    console.timeEnd("Expensive Calculation");
    return result;
};

const CalculatorComponent = () => {
    const [counter, setCounter] = useState(0);
    const N = 900000000; // ржмрзЬ рж╕ржВржЦрзНржпрж╛

    // useMemo ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЧржгржирж╛ ржорзЗржорзЛрж░рж╛ржЗржЬ ржХрж░рж╛
    const finalValue = useMemo(() => {
        // ржПржЗ ржмрзНрж▓ржХржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржХржорзНржкрзЛржирзЗржирзНржЯ ржорж╛ржЙржирзНржЯ рж╣ржУрзЯрж╛рж░ рж╕ржорзЯ ржПржХржмрж╛рж░ржЗ ржЪрж▓ржмрзЗ
        // ржХрж╛рж░ржг N ржлрж┐ржХрзНрж╕ржб ржПржмржВ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЕрзНржпрж╛рж░рзЗрждрзЗ рж╢рзБржзрзБ N ржЖржЫрзЗ
        return calculateExpensiveValue(N);
    }, [N]); 

    return (
        <div>
            <h1>Counter: {counter}</h1>
            <button onClick={() => setCounter(c => c + 1)}>
                Increment Counter
            </button>
            <p>Calculated Value: {finalValue}</p>
            {/*
                Counter-ржП ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗржУ Expensive Calculation ржЖрж░ ржЪрж▓ржмрзЗ ржирж╛, 
                ржлрж▓рзЗ UI ржорж╕рзГржг ржерж╛ржХржмрзЗред
            */}
        </div>
    );
};
```

---

## рзи. ржЪрж╛ржЗрж▓рзНржб рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржирж┐рзЯржирзНрждрзНрж░ржг: `useCallback` ржПржмржВ `React.memo`

ржкрзНржпрж╛рж░рзЗржирзНржЯ ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржХрж░рж▓рзЗ ржЪрж╛ржЗрж▓рзНржб ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рж┐рждрзЗ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж░рж┐-рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржПржбрж╝рж╛рждрзЗ ржПржЗ ржжрзБржЯрж┐ ржХрзМрж╢рж▓ ржПржХрждрзНрж░рзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

### ржХ. `useCallback` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржлрж╛ржВрж╢ржи рж░рзЗржлрж╛рж░рзЗржирзНрж╕ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж░рж╛ржЦрж╛

ржЪрж╛ржЗрж▓рзНржб ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржкрзНрж░ржкрж╕ рж╣рж┐рж╕рж╛ржмрзЗ ржкрж╛рж╕ ржХрж░рж╛ ржлрж╛ржВрж╢ржиржЧрзБрж▓рж┐рж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж░рж╛ржЦрждрзЗ `useCallback` ржмрзНржпржмрж╣рзГржд рж╣рзЯред

JavaScript

```jsx
import React, { useState, useCallback } from 'react';

// ржЪрж╛ржЗрж▓рзНржб ржХржорзНржкрзЛржирзЗржирзНржЯ: ржпрж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ рждржЦржиржЗ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржХрж░ржмрзЗ ржпржЦржи ржПрж░ ржкрзНрж░ржкрж╕ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржмрзЗ
const ItemList = React.memo(({ items, onDeleteItem }) => {
    console.log("ItemList Re-rendered"); // ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп
    return (
        <ul>
            {items.map(item => (
                <li key={item.id}>
                    {item.name} 
                    <button onClick={() => onDeleteItem(item.id)}>Delete</button>
                </li>
            ))}
        </ul>
    );
});

const ParentComponent = () => {
    const [items, setItems] = useState([{ id: 1, name: 'Item 1' }]);
    const [inputValue, setInputValue] = useState('');

    // useCallback ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ onDeleteItem ржлрж╛ржВрж╢ржирзЗрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж░рж╛ржЦрж╛
    const handleDeleteItem = useCallback((id) => {
        setItems(currentItems => currentItems.filter(item => item.id !== id));
    }, []); // ржпрзЗрж╣рзЗрждрзБ setItems ржПржХржЯрж┐ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ ржлрж╛ржВрж╢ржи, ржирж┐рж░рзНржнрж░рждрж╛ ржЦрж╛рж▓рж┐ рж░рж╛ржЦрж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ

    // inputValue рж╕рзНржЯрзЗржЯ ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗржУ ItemList ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯржнрж╛ржмрзЗ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржХрж░ржмрзЗ ржирж╛,
    // ржХрж╛рж░ржг onDeleteItem ржПрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ржирж┐ред
    return (
        <div>
            <input value={inputValue} onChange={(e) => setInputValue(e.target.value)} placeholder="Type here..." />
            <ItemList items={items} onDeleteItem={handleDeleteItem} />
        </div>
    );
};
```

---

## рзй. рж╕рзНржЯрзЗржЯрзЗрж░ ржзрж╛рж░рж╛ржмрж╛рж╣рж┐ржХрждрж╛ ржУ рж░рж┐рж╕рзЗржЯ: `key` ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯрзЗрж░ ржХрзМрж╢рж▓ржЧржд ржмрзНржпржмрж╣рж╛рж░

ржпржЦржи ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрзЗрждрж░рзЗрж░ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ (ржпрзЗржоржи, ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╕ржоржпрж╝ ржоржирзНрждржмрзНржпрзЗрж░ рж╕рзНржЯрзЗржЯ), рждржЦржи **`key` ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред `key` ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ рж░рж┐ржЕрзНржпрж╛ржХрзНржЯ ржХржорзНржкрзЛржирзЗржирзНржЯржЯрж┐ржХрзЗ **рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ ржирждрзБржи** рж╣рж┐рж╕рзЗржмрзЗ ржорж╛ржЙржирзНржЯ (Mount) ржХрж░рзЗред

### ржХ. `key` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЪрж╛ржЗрж▓рзНржб рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ

JavaScript

```jsx
import React, { useState } from 'react';

// ржПржЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржПржХржЯрж┐ ржЕржнрзНржпржирзНрждрж░рзАржг рж╕рзНржЯрзЗржЯ ржЖржЫрзЗ ржпрж╛ рж░рж┐рж╕рзЗржЯ ржХрж░рж╛ ржжрж░ржХрж╛рж░
const ProfileDetails = ({ userId }) => {
    const [commentText, setCommentText] = useState('');
    
    // ржпржЦржи ржЕржирзНржп ржЗржЙржЬрж╛рж░рзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рж▓рзЛржб рж╣рзЯ, рждржЦржи ржПржЗ ржЗржиржкрзБржЯржЯрж┐ ржкрж░рж┐рж╖рзНржХрж╛рж░ рж╣ржУрзЯрж╛ ржЙржЪрж┐ржд
    return (
        <div>
            <h2>User Profile: {userId}</h2>
            <input 
                value={commentText} 
                onChange={(e) => setCommentText(e.target.value)} 
                placeholder={`Write comment for user ${userId}`} 
            />
            {/* ржЕржирзНржпрж╛ржирзНржп ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржмрж┐ржмрж░ржг */}
        </div>
    );
};

const ProfileSwitcher = () => {
    const [currentUserId, setCurrentUserId] = useState(101);

    return (
        <div>
            <button onClick={() => setCurrentUserId(101)}>Load User 101</button>
            <button onClick={() => setCurrentUserId(202)}>Load User 202</button>
            
            {/* key={currentUserId} ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржлрж▓рзЗ:
              ржпржЦржи currentUserId ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ (101 -> 202), React ProfileDetails-ржХрзЗ 
              рж╕ржорзНржкрзВрж░рзНржг unmount ржХрж░рзЗ ржирждрзБржи ржХрж░рзЗ ржорж╛ржЙржирзНржЯ ржХрж░рзЗ, ржлрж▓рзЗ commentText рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ рж╣рзЯрзЗ ржпрж╛рзЯред
            */}
            <ProfileDetails key={currentUserId} userId={currentUserId} />
        </div>
    );
};
```

---

## рзк. `useEffect` ржПрж░ рж╕ржарж┐ржХ ржмрзНржпржмрж╣рж╛рж░: ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЗржлрзЗржХрзНржЯ ржкрж░рж┐рж╣рж╛рж░

ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ `useEffect` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржЕрждрж┐рж░рж┐ржХрзНржд рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржПржмржВ ржЬржЯрж┐рж▓рждрж╛ ржмрж╛рзЬрзЗред **ржмрж╛рж╣рзНржпрж┐ржХ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ рж╕рж╛ржерзЗ рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛ржЗржЬрзЗрж╢ржирзЗрж░** ржЬржирзНржпржЗ ржХрзЗржмрж▓ `useEffect` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐рждред

### ржХ. рж░рзЗржирзНржбрж╛рж░рж┐ржВ-ржПрж░ рж╕ржорзЯ ржЧржгржирж╛ (Effect-ржорзБржХрзНржд ржЧржгржирж╛)

рж╕рзНржЯрзЗржЯ ржмрж╛ ржкрзНрж░ржкрж╕рзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржЕржирзНржп ржПржХржЯрж┐ ржнрзНржпрж╛рж▓рзБ ржЧржгржирж╛ ржХрж░рж╛рж░ ржЬржирзНржп `useEffect`-ржПрж░ ржкрзНрж░рзЯрзЛржЬржи ржирзЗржЗ, рж╕рж░рж╛рж╕рж░рж┐ рж░рзЗржирзНржбрж╛рж░рж┐ржВ-ржПрж░ рж╕ржорзЯ ржЧржгржирж╛ ржХрж░рж╛ржЗ ржжржХрзНрж╖ ржЙржкрж╛рзЯ:

JavaScript

```jsx
const UserProfile = ({ firstName, lastName }) => {
    
    // тЭМ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ Effect ржмрзНржпржмрж╣рж╛рж░: ржПржЯрж┐ ржжрзНржмрж┐ржЧрзБржг рж░рзЗржирзНржбрж╛рж░ рж╕рзГрж╖рзНржЯрж┐ ржХрж░рзЗ
    /*
    const [fullName, setFullName] = useState('');
    useEffect(() => {
        setFullName(`${firstName} ${lastName}`);
    }, [firstName, lastName]);
    */

    // тЬЕ рж╕ржарж┐ржХ ржПржмржВ ржжржХрзНрж╖ ржкржжрзНржзрждрж┐: рж╕рж░рж╛рж╕рж░рж┐ рж░рзЗржирзНржбрж╛рж░рж┐ржВ-ржПрж░ рж╕ржорзЯ ржЧржгржирж╛
    const fullName = `${firstName} ${lastName}`; 

    return <h1>Welcome, {fullName}</h1>;
};
```

### ржЦ. ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж┐ржВ (Effect-ржорзБржХрзНржд API ржХрж▓)

ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЗржнрзЗржирзНржЯрзЗрж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ ржХрзЛржирзЛ ржХрж╛ржЬ (ржпрзЗржоржи API ржХрж▓, ржЕрзНржпрж╛ржирж╛рж▓рж┐ржЯрж┐ржХрзНрж╕ ржкрж╛ржарж╛ржирзЛ) ржХрж░рж╛рж░ ржЬржирзНржп `useEffect` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐ржд ржиржпрж╝ред

JavaScript

```jsx
const SubmitForm = () => {
    const [data, setData] = useState(null);

    // тЭМ ржнрзБрж▓: submit-ржПрж░ ржкрж░ ржПржХржЯрж┐ state ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ, ржпрж╛ effect-ржХрзЗ ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрж░рзЗ
    /*
    useEffect(() => {
        if (data) {
            sendDataToAPI(data); // API ржХрж▓ 
        }
    }, [data]);
    */

    // тЬЕ рж╕ржарж┐ржХ: рж╕рж░рж╛рж╕рж░рж┐ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░рзЗ API ржХрж▓
    const handleSubmit = async (e) => {
        e.preventDefault();
        // ржлрж░рзНржо ржбрзЗржЯрж╛ рждрзИрж░рж┐ ржХрж░рж╛ рж╣рж▓рзЛ...
        await sendDataToAPI(formData); // рж╕рж░рж╛рж╕рж░рж┐ API ржХрж▓
        alert("Data submitted successfully!");
    };

    return <form onSubmit={handleSubmit}>...</form>;
};
```

---

## рзл. ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб рж▓рзЛржбрж┐ржВ ржХрзМрж╢рж▓: `React.lazy` ржПржмржВ `Suspense`

ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐рж░ ржкрзНрж░рж╛ржержорж┐ржХ рж▓рзЛржбрж┐ржВ ржЧрждрж┐ ржмрж╛ржбрж╝рж╛рждрзЗ ржПржмржВ ржмрж╛ржирзНржбрзЗрж▓рзЗрж░ ржЖржХрж╛рж░ ржХржорж╛рждрзЗ **ржХрзЛржб рж╕рзНржкрзНрж▓рж┐ржЯрж┐ржВ (Code Splitting)** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

### ржХ. рж▓рзЗржЬрж┐ рж▓рзЛржбрж┐ржВ ржкрзНрж░ржпрж╝рзЛржЧ

JavaScript

```jsx
import React, { Suspense, lazy } from 'react';

// ржПржХржЯрж┐ ржнрж╛рж░рзА ржмрж╛ ржЦрзБржм ржХржо ржмрзНржпржмрж╣рзГржд ржХржорзНржкрзЛржирзЗржирзНржЯржХрзЗ рж▓рзЗржЬрж┐ рж▓рзЛржб ржХрж░рж╛
const HeavyImageEditor = lazy(() => import('./HeavyImageEditor')); 

const Dashboard = () => {
    const [showEditor, setShowEditor] = useState(false);

    return (
        <div>
            <h1>Main Dashboard Content</h1>
            <button onClick={() => setShowEditor(true)}>Open Image Editor</button>
            
            {showEditor && (
                // Suspense ржХржорзНржкрзЛржирзЗржирзНржЯ рж▓рзЛржб ржирж╛ рж╣ржУрзЯрж╛ ржкрж░рзНржпржирзНржд fallback UI ржжрзЗржЦрж╛рзЯ
                <Suspense fallback={<div>Loading Image Editor...</div>}>
                    <HeavyImageEditor /> 
                </Suspense>
            )}
            {/*
                HeavyImageEditor-ржПрж░ ржХрзЛржбржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржпржЦржи ржПржЯрж┐ ржкрзНрж░ржержоржмрж╛рж░ рж░рзЗржирзНржбрж╛рж░ рж╣ржмрзЗ (showEditor=true)
                рждржЦржиржЗ ржбрж╛ржЙржирж▓рзЛржб рж╣ржмрзЗ, ржпрж╛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржкрзНрж░рж╛ржержорж┐ржХ рж▓рзЛржбрж┐ржВ рж╕ржорзЯ ржХржорж╛рзЯред
            */}
        </div>
    );
};
```